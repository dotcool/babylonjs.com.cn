
 <!DOCTYPE HTML>
<html >
<head>
  <meta charset="UTF-8">
  
    <title>Hexo</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=3, minimum-scale=1">
    
    <meta name="author" content="John Doe">
    
    <meta name="description" content="The first thing you have to do is install the Oculus Driver for Device Orientation API: Oculus Rift Driver
So how does it work?
This driver simulates ">
    
    
    
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/pacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/pacman.jpg">
    
    <link rel="stylesheet" href="/css/style.css" type="text/css">

</head>

  <body>
    <header>
      <div>
		
			<div id="imglogo">
				<a href="/"><img src="/img/logo.svg" alt="Hexo" title="Hexo"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="Hexo">Hexo</a></h1>
				<h2 class="blog-motto"></h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="Menu">
			</a></div>
			<nav class="animated">
				<ul>
					
						<li><a href="/">Home</a></li>
					
						<li><a href="/archives">Archives</a></li>
					
					<li>
					
					<form class="search" action="//google.com/search" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="text" id="search" name="q" autocomplete="off" maxlength="20" placeholder="Search" />
						<input type="hidden" name="q" value="site:www.babylonjs.com.cn">
					</form>
					
					</li>
				</ul>
			</nav>			
</div>

    </header>
    <div id="container">
      <div id="main" class="post" itemscope itemprop="blogPost">
	<article itemprop="articleBody"> 
		<header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2014/12/27/Using-Oculus-Rift-with-Babylon.js/" title="" itemprop="url"></a>
  </h1>
  <p class="article-author">By
    
      <a href="http://www.babylonjs.com.cn" title="John Doe">John Doe</a>
    </p>
  <p class="article-time">
    <time datetime="2014-12-27T02:53:21.000Z" itemprop="datePublished">Dec 27 2014</time>
    Updated:<time datetime="2014-12-27T02:53:21.000Z" itemprop="dateModified">Dec 27 2014</time>
    
  </p>
</header>
	<div class="article-content">
		
		
		<div id="toc" class="toc-article">
			<strong class="toc-title">Contents</strong>
		<ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#So_how_does_it_work?"><span class="toc-number">1.</span> <span class="toc-text">So how does it work?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Using_the_BABYLON-OculusCamera_camera"><span class="toc-number">2.</span> <span class="toc-text">Using the BABYLON.OculusCamera camera</span></a></li></ol>
		</div>
		
		<p>The first thing you have to do is install the Oculus Driver for Device Orientation API: <a href="http://www.babylonjs.com/OculusVR Driver/OculusVR Driver.zip" target="_blank" rel="external">Oculus Rift Driver</a></p>
<h3 id="So_how_does_it_work?">So how does it work?</h3>
<p>This driver simulates Device Orientation events from Oculus Rift data. So every time Oculus Rift raises an orientation change, the driver transforms it into Device Orientation data. In this way, every browser that is compatible with the Device Orientation API can receive these events.</p>
<p><strong>Warning: For now, this only works with IE11 due to the way Chrome handles Device Orientation Events (IE11 is able to pump more than 200 events per second).</strong></p>
<h3 id="Using_the_BABYLON-OculusCamera_camera">Using the BABYLON.OculusCamera camera</h3>
<p>To be able to explore your scene using your Oculus Rift, you just have to add only a few lines of code to your babylon.js project. For instance, here is how you can create a </p>
<figure class="highlight BABYLON.OculusCamera```"><figcaption><span>from a ```BABYLON.FreeCamera```:</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"></div></pre></td></tr></table></figure>

<p>javascript<br>var originCamera = scene.activeCamera;</p>
<p>scene.activeCamera = new BABYLON.OculusCamera(“Oculus”, originCamera.position, scene);</p>
<p>scene.activeCamera.minZ = originCamera.minZ;<br>scene.activeCamera.maxZ = originCamera.maxZ;<br>scene.activeCamera.gravity = originCamera.gravity;<br>scene.activeCamera.checkCollisions = false;<br>scene.activeCamera.applyGravity = false;<br>scene.activeCamera.speed = originCamera.speed;<br>scene.activeCamera.rotation.copyFrom(originCamera.rotation);</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="comment">### Complete sample</span></div><div class="line">Here is <span class="operator">a</span> complete sample that loads <span class="operator">the</span> Espilit demo <span class="operator">and</span> introduces <span class="operator">an</span> Oculus Rift camera:</div></pre></td></tr></table></figure>

<p>javascript<br>document.addEventListener(“DOMContentLoaded”, function () {<br>    onload();<br>}, false);</p>
<p>var onload = function () {<br>    var canvas = document.getElementById(“renderCanvas”);<br>    var engine = new BABYLON.Engine(canvas, true);<br>    var scene;</p>
<pre><code>BABYLON.Engine.ShadersRepository = <span class="string">"/Babylon/Shaders/"</span>;

BABYLON.SceneLoader.Load(<span class="string">"/espilit/"</span>, <span class="string">"espilit.incremental.babylon"</span>, engine, <span class="function"><span class="keyword">function</span> <span class="params">(newScene)</span> </span>{
    scene = newScene;
    scene.executeWhenReady(<span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>{
        <span class="keyword">var</span> originCamera = scene.activeCamera;

        scene.activeCamera = <span class="keyword">new</span> BABYLON.OculusCamera(<span class="string">"Oculus"</span>, originCamera.position, scene);
        scene.activeCamera.minZ = originCamera.minZ;
        scene.activeCamera.maxZ = originCamera.maxZ;
        scene.activeCamera.gravity = originCamera.gravity;
        scene.activeCamera.checkCollisions = <span class="literal">false</span>;
        scene.activeCamera.applyGravity = <span class="literal">false</span>;
        scene.activeCamera.attachControl(canvas);
        scene.activeCamera.speed = originCamera.speed;
        scene.activeCamera.rotation.copyFrom(originCamera.rotation);
    });
});

<span class="comment">// Launch render loop</span>
engine.runRenderLoop(<span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>{
    <span class="keyword">if</span> (scene) {
        scene.render();
    };
});
</code></pre><p>};<br>```</p>
  
	</div>
		<footer class="article-footer clearfix">




<div class="article-share" id="share">

  <div data-url="http://www.babylonjs.com.cn/2014/12/27/Using-Oculus-Rift-with-Babylon.js/" data-title="Hexo" data-tsina="null" class="share clearfix">
  </div>

</div>
</footer>   	       
	</article>
	
<nav class="article-nav clearfix">
 
 <div class="prev" >
 <a href="/2014/12/27/Creating the minified version/" title="">
  <strong>PREVIOUS:</strong><br/>
  <span>
  (no title)</span>
</a>
</div>


<div class="next">
<a href="/2014/12/27/Babylon.js-file-format/"  title="">
 <strong>NEXT:</strong><br/> 
 <span>(no title)
</span>
</a>
</div>

</nav>

	
</div>  
      <div class="openaside"><a class="navbutton" href="#" title="Show Sidebar"></a></div>

  <div id="toc" class="toc-aside">
  <strong class="toc-title">Contents</strong>
  <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#So_how_does_it_work?"><span class="toc-number">1.</span> <span class="toc-text">So how does it work?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Using_the_BABYLON-OculusCamera_camera"><span class="toc-number">2.</span> <span class="toc-text">Using the BABYLON.OculusCamera camera</span></a></li></ol>
  </div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="Hide Sidebar"></a></div>
<aside class="clearfix">

  

  

  <div class="rsspart">
	<a href="null" target="_blank" title="rss">RSS</a>
</div>

</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<div class="social-font clearfix">
		
		
		
		
		
	</div>
		<p class="copyright">Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/A-limon/pacman" target="_blank" title="Pacman">Pacman</a> © 2014 
		
		<a href="http://www.babylonjs.com.cn" target="_blank" title="John Doe">John Doe</a>
		
		</p>
</div>
</footer>
    <script src="/js/jquery-2.1.0.min.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else
    {
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
      
      $('#toc.toc-aside').css('display', 'none');
        
    }
  });
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){ 
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      h  = $('article h2')
      ah = $('article h2'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  if(ah.length==0){
    t.css('display','none');
  }else{
    c.click(function(){
      ta.css('display', 'block').addClass('fadeIn');
    });
    o.click(function(){
      ta.css('display', 'none');
    });
    $(window).scroll(function(){
      ta.css("top",Math.max(140,320-$(this).scrollTop()));
    });
  };
});
</script>


<script type="text/javascript">
$(document).ready(function(){ 
  var $this = $('.share'),
      url = $this.attr('data-url'),
      encodedUrl = encodeURIComponent(url),
      title = $this.attr('data-title'),
      tsina = $this.attr('data-tsina');
  var html = [
  '<a href="#" class="overlay" id="qrcode"></a>',
  '<div class="qrcode clearfix"><span>扫描二维码分享到微信朋友圈</span><a class="qrclose" href="#share"></a><strong>Loading...Please wait</strong><img id="qrcode-pic" data-src="http://s.jiathis.com/qrcode.php?url=' + encodedUrl + '"/></div>',
  '<a href="#textlogo" class="article-back-to-top" title="Top"></a>',
  '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
  '<a href="#qrcode" class="article-share-qrcode" title="QRcode"></a>',
  '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
  '<a href="http://service.weibo.com/share/share.php?title='+title+'&url='+encodedUrl +'&ralateUid='+ tsina +'&searchPic=true&style=number' +'" class="article-share-weibo" target="_blank" title="Weibo"></a>',
  '<span title="Share to"></span>'
  ].join('');
  $this.append(html);
  $('.article-share-qrcode').click(function(){
    var imgSrc = $('#qrcode-pic').attr('data-src');
    $('#qrcode-pic').attr('src', imgSrc);
    $('#qrcode-pic').load(function(){
        $('.qrcode strong').text(' ');
    });
  });
});     
</script>






  </body>
</html>
